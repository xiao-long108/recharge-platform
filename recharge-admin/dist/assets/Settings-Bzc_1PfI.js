import{e as t,k as _,d as W,r as q,m as L,a as k,E as Y,c as j,b as u,ae as G,ak as J,an as A,ao as U,w as l,F as Q,ap as X,aa as Z,p as K,aq as ee,y as te,_ as ae,I as le,B as ne,h as c,am as se,i as g,o as S,j as oe}from"./index-Djgp8zeB.js";import{r as h}from"./request-npLowYHc.js";import{S as re}from"./SettingOutlined-CC8JffM4.js";import{W as ie}from"./WalletOutlined-CNTM3-gi.js";var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};function C(o){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},i=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(m){return Object.getOwnPropertyDescriptor(s,m).enumerable}))),i.forEach(function(m){de(o,m,s[m])})}return o}function de(o,n,s){return n in o?Object.defineProperty(o,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[n]=s,o}var D=function(n,s){var i=C({},n,s.attrs);return t(_,C({},i,{icon:ue}),null)};D.displayName="DollarOutlined";D.inheritAttrs=!1;var me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"};function E(o){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},i=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(m){return Object.getOwnPropertyDescriptor(s,m).enumerable}))),i.forEach(function(m){pe(o,m,s[m])})}return o}function pe(o,n,s){return n in o?Object.defineProperty(o,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[n]=s,o}var M=function(n,s){var i=E({},n,s.attrs);return t(_,E({},i,{icon:me}),null)};M.displayName="MobileOutlined";M.inheritAttrs=!1;var ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm159.6-585h-59.5c-3 0-5.8 1.7-7.1 4.4l-90.6 180H511l-90.6-180a8 8 0 00-7.1-4.4h-60.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.9L457 515.7h-61.4c-4.4 0-8 3.6-8 8v29.9c0 4.4 3.6 8 8 8h81.7V603h-81.7c-4.4 0-8 3.6-8 8v29.9c0 4.4 3.6 8 8 8h81.7V717c0 4.4 3.6 8 8 8h54.3c4.4 0 8-3.6 8-8v-68.1h82c4.4 0 8-3.6 8-8V611c0-4.4-3.6-8-8-8h-82v-41.5h82c4.4 0 8-3.6 8-8v-29.9c0-4.4-3.6-8-8-8h-62l111.1-204.8c.6-1.2 1-2.5 1-3.8-.1-4.4-3.7-8-8.1-8z"}}]},name:"pay-circle",theme:"outlined"};function $(o){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},i=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(m){return Object.getOwnPropertyDescriptor(s,m).enumerable}))),i.forEach(function(m){ve(o,m,s[m])})}return o}function ve(o,n,s){return n in o?Object.defineProperty(o,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[n]=s,o}var P=function(n,s){var i=$({},n,s.attrs);return t(_,$({},i,{icon:ce}),null)};P.displayName="PayCircleOutlined";P.inheritAttrs=!1;const fe={class:"settings-page"},be={class:"settings-container"},ye={class:"settings-menu"},ge=["onClick"],we={class:"settings-content"},he={class:"settings-section"},Oe={class:"settings-section"},Re={class:"settings-section"},ke={class:"settings-section"},Ae={class:"settings-section"},Ue=W({__name:"Settings",setup(o){const n=q("basic"),s=L({get:()=>v.autoRefund==="true",set:y=>{v.autoRefund=y?"true":"false"}}),i=L({get:()=>b.commissionEnabled==="true",set:y=>{b.commissionEnabled=y?"true":"false"}}),m=L({get:()=>w.yuebaoEnabled==="true",set:y=>{w.yuebaoEnabled=y?"true":"false"}}),z=[{key:"basic",label:"基础设置",icon:re},{key:"recharge",label:"充值设置",icon:M},{key:"withdraw",label:"提现设置",icon:ie},{key:"commission",label:"佣金设置",icon:D},{key:"yuebao",label:"余额宝设置",icon:P}],p=k({siteName:"话费充值平台",siteDesc:"",siteLogo:"",customerServiceUrl:"",shareTitle:"",shareDesc:"",shareImage:""}),v=k({minRechargeAmount:"10",maxRechargeAmount:"10000",orderTimeout:"30",autoRefund:"true"}),f=k({withdrawMinAmount:"100",withdrawMaxAmount:"50000",withdrawFeeRate:"0.006",withdrawDailyLimit:"3"}),b=k({commissionRateLevel1:"0.05",commissionRateLevel2:"0.03",commissionRateLevel3:"0.01",commissionEnabled:"true"}),w=k({yuebaoEnabled:"true",yuebaoAnnualRate:"0.0365",yuebaoMinTransfer:"1"}),V=async()=>{try{const y=await h.get("/api/admin/settings");if(y.data.code===200){const e=y.data.data;Object.assign(p,e.basic||{}),Object.assign(v,e.recharge||{}),Object.assign(f,e.withdraw||{}),Object.assign(b,e.commission||{}),Object.assign(w,e.yuebao||{})}}catch(y){console.error(y)}},F=async()=>{try{await h.put("/api/admin/settings/basic",p),g.success("保存成功")}catch{g.error("保存失败")}},B=async()=>{try{await h.put("/api/admin/settings/recharge",v),g.success("保存成功")}catch{g.error("保存失败")}},T=async()=>{try{await h.put("/api/admin/settings/withdraw",f),g.success("保存成功")}catch{g.error("保存失败")}},N=async()=>{try{await h.put("/api/admin/settings/commission",b),g.success("保存成功")}catch{g.error("保存失败")}},I=async()=>{try{await h.put("/api/admin/settings/yuebao",w),g.success("保存成功")}catch{g.error("保存失败")}};return Y(()=>{V()}),(y,e)=>{const d=le,r=ae,O=ne,R=Q,x=se,H=X;return S(),j("div",fe,[u("div",be,[u("div",ye,[(S(),j(G,null,J(z,a=>u("div",{key:a.key,class:Z(["menu-item",{active:n.value===a.key}]),onClick:xe=>n.value=a.key},[(S(),K(ee(a.icon))),u("span",null,te(a.label),1)],10,ge)),64))]),u("div",we,[A(u("div",he,[e[23]||(e[23]=u("h3",{class:"section-title"},"基础设置",-1)),t(R,{model:p,"label-col":{span:4},"wrapper-col":{span:14}},{default:l(()=>[t(r,{label:"平台名称"},{default:l(()=>[t(d,{value:p.siteName,"onUpdate:value":e[0]||(e[0]=a=>p.siteName=a),placeholder:"请输入平台名称"},null,8,["value"])]),_:1}),t(r,{label:"平台描述"},{default:l(()=>[t(d,{value:p.siteDesc,"onUpdate:value":e[1]||(e[1]=a=>p.siteDesc=a),placeholder:"请输入平台描述"},null,8,["value"])]),_:1}),t(r,{label:"平台Logo"},{default:l(()=>[t(d,{value:p.siteLogo,"onUpdate:value":e[2]||(e[2]=a=>p.siteLogo=a),placeholder:"Logo图片URL"},null,8,["value"])]),_:1}),t(r,{label:"客服链接"},{default:l(()=>[t(d,{value:p.customerServiceUrl,"onUpdate:value":e[3]||(e[3]=a=>p.customerServiceUrl=a),placeholder:"客服链接地址"},null,8,["value"])]),_:1}),t(r,{label:"分享标题"},{default:l(()=>[t(d,{value:p.shareTitle,"onUpdate:value":e[4]||(e[4]=a=>p.shareTitle=a),placeholder:"分享标题"},null,8,["value"])]),_:1}),t(r,{label:"分享描述"},{default:l(()=>[t(d,{value:p.shareDesc,"onUpdate:value":e[5]||(e[5]=a=>p.shareDesc=a),placeholder:"分享描述"},null,8,["value"])]),_:1}),t(r,{label:"分享图片"},{default:l(()=>[t(d,{value:p.shareImage,"onUpdate:value":e[6]||(e[6]=a=>p.shareImage=a),placeholder:"分享图片URL"},null,8,["value"])]),_:1}),t(r,{"wrapper-col":{offset:4}},{default:l(()=>[t(O,{type:"primary",onClick:F},{default:l(()=>[...e[22]||(e[22]=[c("保存设置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])],512),[[U,n.value==="basic"]]),A(u("div",Oe,[e[30]||(e[30]=u("h3",{class:"section-title"},"充值设置",-1)),t(R,{model:v,"label-col":{span:4},"wrapper-col":{span:14}},{default:l(()=>[t(r,{label:"最低充值"},{default:l(()=>[t(d,{value:v.minRechargeAmount,"onUpdate:value":e[7]||(e[7]=a=>v.minRechargeAmount=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[24]||(e[24]=[c("R$",-1)])]),_:1},8,["value"])]),_:1}),t(r,{label:"最高充值"},{default:l(()=>[t(d,{value:v.maxRechargeAmount,"onUpdate:value":e[8]||(e[8]=a=>v.maxRechargeAmount=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[25]||(e[25]=[c("R$",-1)])]),_:1},8,["value"])]),_:1}),t(r,{label:"订单超时"},{default:l(()=>[t(d,{value:v.orderTimeout,"onUpdate:value":e[9]||(e[9]=a=>v.orderTimeout=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[26]||(e[26]=[c("分钟",-1)])]),_:1},8,["value"]),e[27]||(e[27]=u("div",{class:"form-help"},"订单未支付自动取消时间",-1))]),_:1}),t(r,{label:"自动退款"},{default:l(()=>[t(x,{checked:s.value,"onUpdate:checked":e[10]||(e[10]=a=>s.value=a),"checked-children":"开启","un-checked-children":"关闭"},null,8,["checked"]),e[28]||(e[28]=u("div",{class:"form-help"},"充值失败自动退款",-1))]),_:1}),t(r,{"wrapper-col":{offset:4}},{default:l(()=>[t(O,{type:"primary",onClick:B},{default:l(()=>[...e[29]||(e[29]=[c("保存设置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])],512),[[U,n.value==="recharge"]]),A(u("div",Re,[e[36]||(e[36]=u("h3",{class:"section-title"},"提现设置",-1)),t(R,{model:f,"label-col":{span:4},"wrapper-col":{span:14}},{default:l(()=>[t(r,{label:"最低提现"},{default:l(()=>[t(d,{value:f.withdrawMinAmount,"onUpdate:value":e[11]||(e[11]=a=>f.withdrawMinAmount=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[31]||(e[31]=[c("R$",-1)])]),_:1},8,["value"])]),_:1}),t(r,{label:"最高提现"},{default:l(()=>[t(d,{value:f.withdrawMaxAmount,"onUpdate:value":e[12]||(e[12]=a=>f.withdrawMaxAmount=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[32]||(e[32]=[c("R$",-1)])]),_:1},8,["value"])]),_:1}),t(r,{label:"提现手续费"},{default:l(()=>[t(d,{value:f.withdrawFeeRate,"onUpdate:value":e[13]||(e[13]=a=>f.withdrawFeeRate=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[33]||(e[33]=[c("比例(如0.006=0.6%)",-1)])]),_:1},8,["value"])]),_:1}),t(r,{label:"每日提现次数"},{default:l(()=>[t(d,{value:f.withdrawDailyLimit,"onUpdate:value":e[14]||(e[14]=a=>f.withdrawDailyLimit=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[34]||(e[34]=[c("次",-1)])]),_:1},8,["value"])]),_:1}),t(r,{"wrapper-col":{offset:4}},{default:l(()=>[t(O,{type:"primary",onClick:T},{default:l(()=>[...e[35]||(e[35]=[c("保存设置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])],512),[[U,n.value==="withdraw"]]),A(u("div",ke,[e[44]||(e[44]=u("h3",{class:"section-title"},"佣金设置",-1)),t(H,{message:"佣金比例说明：用户消费后，其上级可获得对应比例的佣金奖励。比例为小数，如0.05表示5%",type:"info","show-icon":"",class:"mb-4"}),t(R,{model:b,"label-col":{span:4},"wrapper-col":{span:14}},{default:l(()=>[t(r,{label:"启用佣金"},{default:l(()=>[t(x,{checked:i.value,"onUpdate:checked":e[15]||(e[15]=a=>i.value=a),"checked-children":"开启","un-checked-children":"关闭"},null,8,["checked"])]),_:1}),t(r,{label:"一级佣金"},{default:l(()=>[t(d,{value:b.commissionRateLevel1,"onUpdate:value":e[16]||(e[16]=a=>b.commissionRateLevel1=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[37]||(e[37]=[c("比例(如0.05=5%)",-1)])]),_:1},8,["value"]),e[38]||(e[38]=u("div",{class:"form-help"},"直接邀请的用户消费可获得的佣金比例",-1))]),_:1}),t(r,{label:"二级佣金"},{default:l(()=>[t(d,{value:b.commissionRateLevel2,"onUpdate:value":e[17]||(e[17]=a=>b.commissionRateLevel2=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[39]||(e[39]=[c("比例(如0.03=3%)",-1)])]),_:1},8,["value"]),e[40]||(e[40]=u("div",{class:"form-help"},"间接邀请的用户（二级）消费可获得的佣金比例",-1))]),_:1}),t(r,{label:"三级佣金"},{default:l(()=>[t(d,{value:b.commissionRateLevel3,"onUpdate:value":e[18]||(e[18]=a=>b.commissionRateLevel3=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[41]||(e[41]=[c("比例(如0.01=1%)",-1)])]),_:1},8,["value"]),e[42]||(e[42]=u("div",{class:"form-help"},"间接邀请的用户（三级）消费可获得的佣金比例",-1))]),_:1}),t(r,{"wrapper-col":{offset:4}},{default:l(()=>[t(O,{type:"primary",onClick:N},{default:l(()=>[...e[43]||(e[43]=[c("保存设置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])],512),[[U,n.value==="commission"]]),A(u("div",Ae,[e[48]||(e[48]=u("h3",{class:"section-title"},"余额宝设置",-1)),t(R,{model:w,"label-col":{span:4},"wrapper-col":{span:14}},{default:l(()=>[t(r,{label:"功能开关"},{default:l(()=>[t(x,{checked:m.value,"onUpdate:checked":e[19]||(e[19]=a=>m.value=a),"checked-children":"开启","un-checked-children":"关闭"},null,8,["checked"])]),_:1}),t(r,{label:"年化收益率"},{default:l(()=>[t(d,{value:w.yuebaoAnnualRate,"onUpdate:value":e[20]||(e[20]=a=>w.yuebaoAnnualRate=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[45]||(e[45]=[c("比例(如0.0365=3.65%)",-1)])]),_:1},8,["value"])]),_:1}),t(r,{label:"最低转入"},{default:l(()=>[t(d,{value:w.yuebaoMinTransfer,"onUpdate:value":e[21]||(e[21]=a=>w.yuebaoMinTransfer=a),style:{width:"200px"}},{addonAfter:l(()=>[...e[46]||(e[46]=[c("R$",-1)])]),_:1},8,["value"])]),_:1}),t(r,{"wrapper-col":{offset:4}},{default:l(()=>[t(O,{type:"primary",onClick:I},{default:l(()=>[...e[47]||(e[47]=[c("保存设置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])],512),[[U,n.value==="yuebao"]])])])])}}}),Me=oe(Ue,[["__scopeId","data-v-784bc96a"]]);export{Me as default};
