import{d as v,r as c,a as N,c as g,b as r,e as a,i as d,h as k,L as x,w as o,F as y,o as B,_ as h,I as w,B as H,f as q,k as U}from"./index-4bcZGDoL.js";import{b as A}from"./user-CwnAAeo_.js";import"./request-C-LQhwRX.js";const C={class:"page-container"},F={class:"flex items-center bg-primary text-white p-4"},R={class:"card-box m-3 p-5"},E=v({__name:"AddBankAccount",setup(V){const m=k(),i=c(),u=c(!1),t=N({bankName:"",accountHolder:"",accountNumber:"",branchName:""}),p={bankName:[{required:!0,message:"请输入银行名称"}],accountHolder:[{required:!0,message:"请输入持卡人姓名"}],accountNumber:[{required:!0,message:"请输入银行卡号"},{pattern:/^\d{16,19}$/,message:"请输入正确的银行卡号"}],branchName:[{required:!0,message:"请输入开户支行"}]};async function f(){u.value=!0;try{await A(t),U.success("添加成功"),m.back()}catch{}finally{u.value=!1}}return(I,e)=>{const l=w,s=h,b=H,_=y;return B(),g("div",C,[r("div",F,[a(d(x),{class:"text-xl cursor-pointer",onClick:e[0]||(e[0]=n=>d(m).back())}),e[5]||(e[5]=r("span",{class:"flex-1 text-center text-lg font-bold"},"添加银行卡",-1)),e[6]||(e[6]=r("span",{class:"w-5"},null,-1))]),r("div",R,[a(_,{ref_key:"formRef",ref:i,model:t,rules:p,layout:"vertical",onFinish:f},{default:o(()=>[a(s,{label:"银行名称",name:"bankName"},{default:o(()=>[a(l,{value:t.bankName,"onUpdate:value":e[1]||(e[1]=n=>t.bankName=n),placeholder:"请输入银行名称"},null,8,["value"])]),_:1}),a(s,{label:"持卡人",name:"accountHolder"},{default:o(()=>[a(l,{value:t.accountHolder,"onUpdate:value":e[2]||(e[2]=n=>t.accountHolder=n),placeholder:"请输入持卡人姓名"},null,8,["value"])]),_:1}),a(s,{label:"银行卡号",name:"accountNumber"},{default:o(()=>[a(l,{value:t.accountNumber,"onUpdate:value":e[3]||(e[3]=n=>t.accountNumber=n),placeholder:"请输入银行卡号",maxlength:19},null,8,["value"])]),_:1}),a(s,{label:"开户支行",name:"branchName"},{default:o(()=>[a(l,{value:t.branchName,"onUpdate:value":e[4]||(e[4]=n=>t.branchName=n),placeholder:"请输入开户支行"},null,8,["value"])]),_:1}),a(b,{type:"primary","html-type":"submit",size:"large",loading:u.value,class:"w-full h-11 mt-5"},{default:o(()=>[...e[7]||(e[7]=[q(" 确认添加 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])])])}}});export{E as default};
