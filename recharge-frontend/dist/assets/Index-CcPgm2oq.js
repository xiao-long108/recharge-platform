import{d as V,r,D as $,E as I,x as L,c as a,b as t,e as u,i as C,h as M,L as j,t as o,w as m,B as A,z as E,m as R,n as F,Z as H,o as l,f as z,s as B,S as Y}from"./index-4bcZGDoL.js";import{g as q,a as D}from"./yuebao-BgJm-NR9.js";import"./request-C-LQhwRX.js";const O={class:"page-container"},P={class:"flex items-center bg-primary text-white p-4"},U={class:"bg-gradient-to-r from-warning to-[hsl(42,84%,70%)] p-8 text-white text-center"},Z={class:"text-4xl font-bold mt-2"},G={class:"flex mt-6"},J={class:"flex-1 text-center"},K={class:"text-base font-bold"},Q={class:"flex-1 text-center"},W={class:"text-base font-bold"},X={class:"flex-1 text-center"},tt={class:"text-base font-bold"},et={class:"card-box m-3 flex gap-4"},st={class:"card-box m-3"},ot={class:"flex justify-between items-center mb-4"},nt={class:"text-sm text-foreground"},at={class:"text-xs text-muted-foreground mt-1"},lt={key:0,class:"text-center py-5 text-muted-foreground"},it={class:"text-sm text-foreground"},dt={class:"text-xs text-muted-foreground mt-1"},mt=V({__name:"Index",setup(rt){const p=M(),i=r(null),c=r([]),x=r([]),d=r(!1),N=$(()=>{var n;return((((n=i.value)==null?void 0:n.annualRate)||0)*100).toFixed(2)});I(d,async n=>{if(n&&x.value.length===0)try{x.value=await D({pageSize:50})}catch{}}),L(async()=>{try{i.value=await q(),c.value=await D({pageSize:5})}catch{}});function v(n){return{1:"转入",2:"转出",3:"收益"}[n]||"未知"}function f(n){return Y(n).format("MM-DD HH:mm")}function _(n){p.push({path:"/yuebao/transfer",query:{type:n}})}return(n,e)=>{var b,g,w,T,k,h;const y=A,S=H;return l(),a("div",O,[t("div",P,[u(C(j),{class:"text-xl cursor-pointer",onClick:e[0]||(e[0]=s=>C(p).back())}),e[5]||(e[5]=t("span",{class:"flex-1 text-center text-lg font-bold"},"余额宝",-1)),e[6]||(e[6]=t("span",{class:"w-5"},null,-1))]),t("div",U,[e[10]||(e[10]=t("div",{class:"text-sm opacity-90"},"总金额（元）",-1)),t("div",Z,o(((g=(b=i.value)==null?void 0:b.balance)==null?void 0:g.toFixed(2))||"0.00"),1),t("div",G,[t("div",J,[t("div",K,"¥"+o(((T=(w=i.value)==null?void 0:w.yesterdayIncome)==null?void 0:T.toFixed(4))||"0.0000"),1),e[7]||(e[7]=t("div",{class:"text-xs opacity-90 mt-1"},"昨日收益",-1))]),t("div",Q,[t("div",W,"¥"+o(((h=(k=i.value)==null?void 0:k.totalIncome)==null?void 0:h.toFixed(2))||"0.00"),1),e[8]||(e[8]=t("div",{class:"text-xs opacity-90 mt-1"},"累计收益",-1))]),t("div",X,[t("div",tt,o(N.value)+"%",1),e[9]||(e[9]=t("div",{class:"text-xs opacity-90 mt-1"},"年化收益率",-1))])])]),t("div",et,[u(y,{type:"primary",size:"large",class:"flex-1 h-11",onClick:e[1]||(e[1]=s=>_("in"))},{default:m(()=>[...e[11]||(e[11]=[z("转入",-1)])]),_:1}),u(y,{size:"large",class:"flex-1 h-11",onClick:e[2]||(e[2]=s=>_("out"))},{default:m(()=>[...e[12]||(e[12]=[z("转出",-1)])]),_:1})]),t("div",st,[t("div",ot,[e[13]||(e[13]=t("span",{class:"text-base font-bold text-foreground"},"收益记录",-1)),t("span",{class:"text-sm text-primary cursor-pointer",onClick:e[3]||(e[3]=s=>d.value=!0)},"查看全部")]),(l(!0),a(R,null,F(c.value,s=>(l(),a("div",{key:s.id,class:"list-item"},[t("div",null,[t("div",nt,o(v(s.recordType)),1),t("div",at,o(f(s.createdTime)),1)]),t("div",{class:B(["text-base font-bold",s.recordType===2?"text-destructive":"text-success"])},o(s.recordType===2?"-":"+")+"¥"+o(s.amount.toFixed(4)),3)]))),128)),c.value.length===0?(l(),a("div",lt,"暂无记录")):E("",!0)]),u(S,{open:d.value,"onUpdate:open":e[4]||(e[4]=s=>d.value=s),title:"全部记录",placement:"bottom",height:"70%"},{default:m(()=>[(l(!0),a(R,null,F(x.value,s=>(l(),a("div",{key:s.id,class:"list-item"},[t("div",null,[t("div",it,o(v(s.recordType)),1),t("div",dt,o(f(s.createdTime)),1)]),t("div",{class:B(["text-base font-bold",s.recordType===2?"text-destructive":"text-success"])},o(s.recordType===2?"-":"+")+"¥"+o(s.amount.toFixed(4)),3)]))),128))]),_:1},8,["open"])])}}});export{mt as default};
